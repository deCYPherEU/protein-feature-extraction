name: Filter PDB Component
description: The FilterPDBComponent is a component that takes in a dataframe and, based on the method given, it loads up the PDB files and keep the ones that don't exist yet. This component compares the existing PDB files with the ones in the dataframe using the checksum and filters out the ones that already exist. The methods are either 'local' or 'remote', where the 'local' version will use the PDB files in the '/data/pdb_files' directory and the 'remote' version will fetch the PDB files from the GCP Storage Bucket. The component returns the filtered dataframe and the PDB files that we already generated.
image: filter_pdb_component:latest

consumes:
  sequence:
        type: string
  sequence_checksum:
        type: string

args:
    method:
        type: str
        description: "The method to use to fetch and save the PDB file. Can be 'local' or 'remote'."
        default: "local"

produces:
  sequence:
        type: string
  sequence_checksum:
        type: string
  pdb_string:
        type: string